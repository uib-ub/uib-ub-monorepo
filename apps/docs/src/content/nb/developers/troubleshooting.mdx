# Feilsøking

## Merge-konflikter i package-lock.json i Pull Request

Hvis du får merge-konflikter i package-lock.json i en Pull Request, kan du fikse det ved å kjøre:

```bash
git checkout main
git pull origin main
git checkout <branch with conflicts>
git merge main
git checkout --theirs package-lock.json
git add .
git commit -m "fix: merge conflicts in package-lock.json"
npm install
# Commit package-lock.json and push
# Check that build is ok
```

## Vercel leter etter manglende linux build for noen pakker

Av en eller annen grunn installerer ikke Vercel linux-pakker for turbo, esbuild og @napi-rs/simple-git. Løsningen er å legge dem til i package-lock.json-filen, men det er noe svart magi her...

En løsning er å installere OS-spesifikke pakker og committe package-lock.json-filen. Dette er ikke en god løsning, men det fungerer.

```bash
npm install -D --arch=arm64 --platform=darwin esbuild @napi-rs/simple-git
npm install -D --arch=arm64 --platform=linux esbuild @napi-rs/simple-git
```

## Invalid hook call error i React forårsaket av transpilering

Løsning foreslått her:
https://github.com/martpie/next-transpile-modules#i-have-trouble-with-duplicated-dependencies-or-the-invalid-hook-call-error-in-react

## No inputs were found in config file i TypeScript

[Fiksen er å legge til minst en .ts-fil](https://bobbyhadz.com/blog/typescript-error-no-inputs-were-found-in-config-file)

## VS Code klager på at env-variabler ikke er i turbo.json

Dette kan løses ved å starte eslint-serveren på nytt. 